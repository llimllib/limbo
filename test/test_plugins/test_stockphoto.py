# -*- coding: UTF-8 -*-
import os
import sys

import vcr

DIR = os.path.dirname(os.path.realpath(__file__))
sys.path.insert(0, os.path.join(DIR, '../../limbo/plugins'))

from stockphoto import on_message

def test_basic():
    with vcr.use_cassette('test/fixtures/stockphoto_basic.yaml'):
        ret = on_message({"text": u"!stock woman eating salad"}, None)
        assert ret in women_eating_salad

def test_unicode():
    with vcr.use_cassette('test/fixtures/stockphoto_unicode.yaml'):
        ret = on_message({"text": u"!stock Ã¼bermensch"}, None)
        # not blowing up == success

women_eating_salad = [u'http://thumb1.shutterstock.com/display_pic_with_logo/52013/137318150/stock-photo-woman-eating-salad-137318150.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/101595/131983145/stock-photo-close-up-of-beautiful-african-american-woman-eating-salad-at-home-131983145.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/91282/172349879/stock-photo-close-up-of-pretty-girl-eating-fresh-vegetable-salad-172349879.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/76219/147994505/stock-photo-happy-woman-relaxing-on-the-sofa-eating-salad-in-her-living-room-147994505.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/91282/116541337/stock-photo-close-up-of-pretty-girl-eating-fresh-vegetable-salad-116541337.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/330511/149315039/stock-photo-woman-diet-concept-portrait-female-model-hold-green-salad-isolated-portrait-149315039.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/1429661/133203863/stock-photo-portrait-of-a-young-attractive-woman-eating-salad-at-cafe-table-horizontal-shot-beautiful-young-133203863.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/91858/110181626/stock-photo-a-beautiful-girl-eating-healthy-food-110181626.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/111616/122347225/stock-photo-young-funny-woman-eating-salad-over-white-background-122347225.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/91858/111599714/stock-photo-a-beautiful-girl-eating-healthy-food-111599714.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/97565/157504958/stock-photo-healthy-lifestyle-woman-eating-salad-smiling-happy-outdoors-on-beautiful-day-young-female-eating-157504958.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/875983/188281055/stock-photo-woman-smiling-and-eating-salad-in-front-of-a-window-188281055.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/603946/136544009/stock-photo-young-woman-eating-fresh-salad-in-modern-kitchen-136544009.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/2237975/224737129/stock-photo-blonde-woman-eating-green-healthy-tasty-eco-salad-on-city-street-terrace-224737129.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/330511/137278037/stock-photo-woman-diet-concept-portrait-female-model-hold-green-salad-isolated-portrait-137278037.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/239779/100258064/stock-photo-portrait-of-a-fit-healthy-hispanic-woman-eating-a-fresh-salad-isolated-on-white-100258064.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/330511/113546818/stock-photo-close-up-portrait-of-young-woman-with-long-hair-sitting-on-sofa-at-home-and-eating-healthy-food-113546818.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/322021/152884361/stock-photo-beautiful-healthy-woman-eating-salad-dieting-concept-healthy-lifestyle-152884361.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/674041/674041,1328100429,13/stock-photo-sexy-smiling-woman-eating-salad-94429603.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/505150/98644640/stock-photo-young-woman-is-eating-mixed-vegetable-salad-in-cafe-98644640.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/270058/197242181/stock-photo-healthy-young-woman-eating-green-salad-197242181.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/321598/141020755/stock-photo-woman-eating-a-healthy-diet-with-a-bowl-of-fresh-delicious-leafy-green-mixed-salad-141020755.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/603946/143922181/stock-photo-happy-young-housewife-eating-fruits-salad-rear-view-143922181.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/287881/117848083/stock-photo-portrait-of-healthy-woman-eating-salad-indoor-117848083.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/187633/200281082/stock-photo-pregnant-woman-eating-salad-200281082.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/82755/120117001/stock-photo-portrait-of-happy-smiling-young-woman-with-vegetarian-vegetable-salad-outdoors-120117001.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/463936/463936,1281375909,1/stock-photo-woman-eating-salad-portrait-of-beautiful-smiling-and-happy-mixed-asian-caucasian-woman-enjoying-a-58732153.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/288574/111855257/stock-photo-portrait-of-a-young-woman-eating-healthy-salad-at-home-indoor-with-copyspace-111855257.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/817606/228898015/stock-photo-young-woman-eating-fresh-salad-in-modern-kitchen-228898015.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/434191/113766307/stock-photo-beautiful-healthy-pregnant-woman-eating-vegetable-salad-113766307.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/91282/131232644/stock-photo-young-female-holding-bowl-with-vegetable-salad-and-looking-at-camera-131232644.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/183112/183112,1301263765,2/stock-photo-young-beautiful-woman-eating-salad-74105218.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/330511/130488413/stock-photo-woman-eating-salad-female-model-studio-isolated-portrait-130488413.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/461851/169259720/stock-photo-woman-diet-concept-portrait-female-model-holding-green-salad-169259720.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/239779/100258043/stock-photo-portrait-of-a-fit-healthy-hispanic-woman-eating-a-fresh-salad-isolated-on-white-100258043.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/91282/91282,1287382262,2/stock-photo-portrait-of-a-girl-looking-positive-and-holding-a-bawl-with-salad-63207955.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/808747/143555791/stock-photo-young-businesswoman-eating-a-salad-while-working-in-office-young-businesswoman-typing-on-the-143555791.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/76219/76219,1272994145,21/stock-photo-close-up-of-a-smiling-woman-eating-a-salad-in-the-living-room-52394008.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/330511/137277953/stock-photo-woman-close-up-smiling-face-diet-food-concept-137277953.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/603946/128010659/stock-photo-closeup-on-young-woman-slicing-vegetables-128010659.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/55550/55550,1295412414,1/stock-photo-mature-smiling-woman-eating-salad-fruits-and-vegetables-69288682.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/479563/131910776/stock-photo-pregnant-woman-in-kitchen-making-salad-131910776.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/603946/135236723/stock-photo-smiling-young-housewife-mixing-fresh-salad-135236723.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/534766/534766,1329754033,3/stock-photo-healthy-lifestyle-young-woman-eating-salad-smiling-happy-looking-at-camera-95636248.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/91282/131233028/stock-photo-close-up-of-pretty-girl-eating-fresh-vegetable-salad-131233028.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/91282/168857183/stock-photo-close-up-of-pretty-girl-eating-fresh-vegetable-salad-168857183.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/91858/109517018/stock-photo-a-beautiful-girl-eating-healthy-food-109517018.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/817606/225948022/stock-photo-young-woman-eating-fresh-salad-in-modern-kitchen-225948022.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/1741513/159928217/stock-photo-portrait-of-woman-eating-vegetable-salad-159928217.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/210376/202093462/stock-photo-young-man-eating-a-salad-202093462.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/210376/193640225/stock-photo-young-woman-eating-a-healthy-salad-193640225.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/140458/189196847/stock-photo-closeup-portrait-of-cute-girl-eating-salad-on-the-kitchen-enjoying-fresh-tasty-vegetables-with-189196847.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/900050/150758387/stock-photo-portrait-of-beautiful-young-woman-holding-green-salad-outdoors-at-seaside-150758387.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/463936/463936,1282570106,1/stock-photo-woman-eating-salad-beautiful-healthy-smiling-mixed-asian-caucasian-woman-enjoying-a-fresh-healthy-59586415.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/76219/76219,1311347186,46/stock-photo-attractive-pregnant-woman-holding-a-bowl-of-salad-while-standing-in-the-kitchen-81571858.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/195826/98631656/stock-photo-diet-beautiful-young-woman-eating-vegetable-salad-dieting-concept-healthy-food-98631656.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/330511/150576863/stock-photo-diet-woman-isolated-portrait-close-up-female-face-happy-woman-150576863.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/270058/197242211/stock-photo-gorgeous-young-woman-lying-on-bed-eating-vegetable-salad-197242211.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/82755/166505057/stock-photo-portrait-of-happy-smiling-young-woman-with-vegetarian-vegetable-salad-indoors-166505057.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/239779/138909455/stock-photo-portrait-of-woman-enjoying-salad-isolated-on-white-138909455.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/67022/252569041/stock-photo-young-woman-preparing-healhty-salad-isolated-on-white-background-252569041.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/1946624/236595490/stock-photo-handsome-couple-looking-for-a-recipe-on-a-digital-tablet-for-cooking-at-home-vegetables-on-the-236595490.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/3391/132417923/stock-photo-young-woman-with-measuring-tape-sitting-and-eating-a-salad-isolated-on-white-background-132417923.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/82755/159766175/stock-photo-portrait-of-happy-smiling-young-beautiful-woman-in-fitness-wear-holding-grocery-shopping-bag-with-159766175.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/239779/138909461/stock-photo-portrait-of-woman-enjoying-salad-isolated-on-white-138909461.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/479563/163334378/stock-photo-close-up-of-woman-eating-fresh-salad-163334378.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/830908/160144139/stock-photo-kid-daughter-feeding-mother-vegetables-in-kitchen-160144139.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/137002/210878761/stock-photo-beautiful-young-woman-with-salad-on-interior-background-210878761.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/476617/248777518/stock-photo-closeup-portrait-of-eating-salad-in-restaurant-beautiful-young-woman-having-fun-relaxing-looking-at-248777518.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/78238/249369628/stock-photo-beautiful-woman-having-breakfast-in-a-hotel-room-249369628.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/64260/148469183/stock-photo-healthy-food-and-kitchen-concept-woman-eating-salad-with-vegetables-148469183.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/195826/186853133/stock-photo-healthy-eating-concept-diet-beautiful-young-woman-near-the-fridge-with-healthy-food-fruits-and-186853133.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/499045/499045,1326034760,1/stock-photo-healthy-woman-eating-salad-healthy-lifestyle-92236297.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/287881/107406830/stock-photo-portrait-of-a-healthy-woman-eating-a-salad-against-a-nature-background-107406830.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/195826/160198934/stock-photo-diet-beautiful-young-woman-eating-vegetable-salad-in-the-kitchen-dieting-concept-healthy-vegan-160198934.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/540181/154665743/stock-photo-happy-young-business-woman-enjoying-a-healthy-salad-at-work-154665743.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/91858/114281680/stock-photo-a-beautiful-girl-eating-healthy-food-114281680.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/534712/534712,1330863960,14/stock-photo-portrait-of-a-young-woman-eating-a-salad-in-her-kitchen-while-cooking-happy-smile-looking-at-96771844.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/76219/149173259/stock-photo-pregnant-woman-mixing-a-salad-in-the-kitchen-while-her-husband-is-washing-the-dishes-behind-149173259.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/82755/194902934/stock-photo-portrait-of-happy-smiling-woman-with-plate-of-salad-outdoors-with-blank-area-for-copyspace-194902934.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/476617/242269213/stock-photo-cheerful-young-pretty-lady-sitting-in-restaurant-holding-a-delicious-salad-and-smiling-at-camera-242269213.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/91282/120058387/stock-photo-close-up-of-fresh-vegetable-salad-being-eaten-by-female-120058387.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/91282/91282,1288700313,6/stock-photo-portrait-of-a-girl-with-bawl-of-salad-looking-at-camera-64230205.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/251191/221586853/stock-photo-happy-young-woman-eating-salad-221586853.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/907942/158536568/stock-photo-woman-cutting-cucumber-knife-158536568.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/187633/205303549/stock-photo-overweight-woman-sitting-on-sofa-eating-bowl-of-fresh-fruit-205303549.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/330511/150576929/stock-photo-woman-close-up-smiling-face-diet-food-concept-150576929.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/270058/148302686/stock-photo-beautiful-young-woman-in-bathrobe-eating-healthy-food-148302686.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/82755/120116992/stock-photo-portrait-of-happy-smiling-young-woman-with-vegetarian-vegetable-salad-outdoors-120116992.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/674041/674041,1327446575,10/stock-photo-woman-eating-salad-with-closed-eyes-93629923.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/91858/91858,1279604574,3/stock-photo-a-beautiful-slender-girl-eating-healthy-food-57468910.jpg', u'http://thumb9.shutterstock.com/display_pic_with_logo/248251/248251,1321879675,22/stock-photo-portrait-of-attractive-caucasian-smiling-woman-isolated-on-white-studio-shot-eating-salat-89253460.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/6732/126800519/stock-photo-beautiful-healthy-middle-aged-woman-sitting-down-to-eat-a-healthy-green-salad-126800519.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/78238/237764377/stock-photo-beautiful-woman-having-breakfast-in-a-hotel-room-237764377.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/603946/156081284/stock-photo-happy-young-housewife-with-shopping-bag-full-of-vegetables-156081284.jpg', u'http://thumb101.shutterstock.com/display_pic_with_logo/817606/235884223/stock-photo-young-woman-holding-grocery-shopping-bag-with-vegetables-standing-in-the-kitchen-235884223.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/77017/126097925/stock-photo-smiling-woman-holding-healthy-salad-meal-over-white-126097925.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/899134/144610670/stock-photo-woman-eating-a-healthy-salad-lunch-in-a-outdoor-garden-cafe-alfresco-style-144610670.jpg', u'http://thumb1.shutterstock.com/display_pic_with_logo/239779/142017694/stock-photo-healthy-eating-woman-with-salad-isolated-on-white-142017694.jpg', u'http://thumb7.shutterstock.com/display_pic_with_logo/270058/270058,1329178452,1/stock-photo-attractive-young-woman-eating-fruit-salad-at-home-95137999.jpg']
